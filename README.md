# COMPSYS 705 UPAAL Pacemaker
This is an implementation of a DDD mode pacemaker on UPAAL. It is able to pulse a heart through Atrial and Ventricle events and meets the following properties;

## Properties

- **Note:** All timers starting after ventricle events are found in the `vt` instance; it's one clock being compared to each of the AEI, PVARP, VRP, LRI, URI values.

### No VS in VRP
- This is within the `v` instance. The only locations that have transitions enabled with VS are `WaitLRI` and the initial location, as before VRP, VS is ignored.

### No AS in PVARP
- In an `a` entity, there are no AS transitions available until the PVARP timer has finished. **Note:** All timers starting at each V event can be found within the `vt` entity.

### No AP within AEI
- In the `a` entity, the only place that can output AP is the `outputAP` state, which must wait for AEI to be completed.

### No VP within AVI
- The only time VP is generated is after LRI finishes. However, if AVI is occurring before that, it will exit that state if URI finishes, meaning a valid VSense can be detected.

### No VP within URI
- VP is only generated by `v.LRI_DONE`, which requires URI to be finished first.

### Time between two V events <= LRI
- Places where valid V events can take place are `LRI.DONE` for VP and `WaitLRI` in the `v` entity. These are bound by the clock constraints found in the `vt` entity.

### VP after AVI
- Eventually, in the event that there is no valid pulse found in AVI, the timer will expire, or `a.waitV` state. If there is a VP here, then this will be after AVI expires.